
Tag管理API文档
=======================

说明
-----------------------
- 管理playbook中默认的tag，用于作业模板中tags参数和skip_tags参数选择的默认值

1、tag列表、新增tag、批量删除tag API
-----------------------------------------------

**请求方式：**    GET（查询） POST（新增） DELETE（删除）

**请求地址：**    /api/system/tag/

**查询参数：**

+------------------------+------------+------------+------------------------------------------------+
|**参数**                |**数据类型**|**是否必须**|**说明**                                        |
+------------------------+------------+------------+------------------------------------------------+
| tag                    | string     | 否         | tag名                                          |
+------------------------+------------+------------+------------------------------------------------+
| search                 | string     | 否         | 模糊查询，查询字段为tag和comment               |
+------------------------+------------+------------+------------------------------------------------+


**输入参数（新增）：**

+------------------------+------------+------------+------------------------------------------------+
|**参数**                |**数据类型**|**是否必须**|**说明**                                        |
+------------------------+------------+------------+------------------------------------------------+
| tag                    | string     | 是         | tag名                                          |
+------------------------+------------+------------+------------------------------------------------+
| weight                 | int        | 否         | 权重，默认为0，权重大的排在前面                |
+------------------------+------------+------------+------------------------------------------------+
| comment                | string     | 否         | 描述                                           |
+------------------------+------------+------------+------------------------------------------------+

**输出参数：**

+------------------------+------------+------------+------------------------------------------------+
|**参数**                |**数据类型**|**是否必须**|**说明**                                        |
+------------------------+------------+------------+------------------------------------------------+
| tag                    | string     | 是         | tag名                                          |
+------------------------+------------+------------+------------------------------------------------+
| weight                 | int        | 否         | 权重，默认为0，权重大的排在前面                |
+------------------------+------------+------------+------------------------------------------------+
| comment                | string     | 否         | 描述                                           |
+------------------------+------------+------------+------------------------------------------------+

**GET返回数据例子：**
::

   {
    "count": 6,
    "next": null,
    "previous": null,
    "results": [
        {
            "id": 2,
            "tag": "tomcat",
            "weight": 1,
            "comment": "tomcat"
        },
        {
            "id": 3,
            "tag": "git",
            "weight": 0,
            "comment": ""
        },
        {
            "id": 4,
            "tag": "nginx",
            "weight": 0,
            "comment": ""
        },
        {
            "id": 5,
            "tag": "dubbo",
            "weight": 0,
            "comment": ""
        },
        {
            "id": 6,
            "tag": "spark",
            "weight": 0,
            "comment": ""
        },
        {
            "id": 7,
            "tag": "zookeeper",
            "weight": 0,
            "comment": ""
        }
    ]
   }

**新增Tag返回数据例子：**
::
   {
    "id": 2,
    "tag": "tomcat",
    "weight": 1,
    "comment": "tomcat"
   }


2、单个tag，修改tag、删除tag API
--------------------------------------

**请求方式：**    GET（查询） PUT（修改） PATCH（修改） DELETE（删除）

**请求地址：**    /api/system/tag/2/

- 请求地址中2为tag的id    

**输入/输出参数：**   见章节1中输入和输出参数说明 

**返回数据例子：**
::
   {
    "id": 2,
    "tag": "tomcat",
    "weight": 1,
    "comment": "tomcat"
   }
